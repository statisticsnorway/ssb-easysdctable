<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>The problem of singletons and zeros in 'easySdcTable' • easySdcTable</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="The problem of singletons and zeros in 'easySdcTable'">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">easySdcTable</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/easySdcTableVignette.html">Introduction to 'easySdcTable'</a></li>
    <li><a class="dropdown-item" href="../articles/singletonsAndZeros.html">The problem of singletons and zeros in 'easySdcTable'</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/statisticsnorway/ssb-easysdctable/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>The problem of singletons and zeros in 'easySdcTable'</h1>
                        <h4 data-toc-skip class="author">Øyvind
Langsrud</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/statisticsnorway/ssb-easysdctable/blob/master/vignettes/singletonsAndZeros.Rmd" class="external-link"><code>vignettes/singletonsAndZeros.Rmd</code></a></small>
      <div class="d-none name"><code>singletonsAndZeros.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This document discuss background for changes made in easySdcTable
after parameter <code>threshold</code> was introduced as a new
possibility in sdcTable.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/statisticsnorway/ssb-easysdctable" class="external-link">easySdcTable</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="note-added-in-version-1-1-1">Note added in version 1.1.1<a class="anchor" aria-label="anchor" href="#note-added-in-version-1-1-1"></a>
</h3>
<p>The terminology in this vignette is somewhat misleading. According to
Langsrud (2024), “ones and zeros” should have been used instead of
“singletons and zeros.”</p>
<p>Langsrud, Ø. (2024): Secondary Cell Suppression by Gaussian
Elimination: An Algorithm Suitable for Handling Issues with Zeros and
Singletons, <em>Published in the Springer LNCS proceedings of the
conference Privacy in Statistical Databases.</em></p>
</div>
</div>
<div class="section level2">
<h2 id="example-datasets">Example datasets<a class="anchor" aria-label="anchor" href="#example-datasets"></a>
</h2>
<p>Below are four two-way example datasets. The data is organized here
in wide format so that the frequencies are in several columns. It is
thus one row variable and one column variable. The dataset, data1b,
comes from <a href="https://github.com/krlono" class="external-link">Kristian Lønø</a>. He
used this to point out a problem that has led to changes in the latest
version of r-package sdcTable. The details are below in this document.
The other datasets are modified variants.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data1a</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>row <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"r1"</span>,<span class="st">"r2"</span><span class="op">)</span>, A<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">2</span><span class="op">)</span>, B<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span>, H<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>,<span class="fl">0</span><span class="op">)</span>, M<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>, W<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">8</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">data1b</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>row <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"r1"</span>,<span class="st">"r2"</span><span class="op">)</span>, A<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span>, B<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span>, H<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>,<span class="fl">0</span><span class="op">)</span>, M<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>, W<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">8</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">data0a</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>row <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"r1"</span>,<span class="st">"r2"</span><span class="op">)</span>, A<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span>, B<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">9</span><span class="op">)</span>, H<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>,<span class="fl">9</span><span class="op">)</span>, M<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">5</span><span class="op">)</span>, W<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">9</span>,<span class="fl">8</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">data0b</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>row <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"r1"</span>,<span class="st">"r2"</span><span class="op">)</span>, A<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span>, B<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">9</span><span class="op">)</span>, H<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>,<span class="fl">9</span><span class="op">)</span>, M<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">2</span><span class="op">)</span>, W<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">9</span>,<span class="fl">8</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>
data1a
</caption>
<thead><tr>
<th style="text-align:right;">
row
</th>
<th style="text-align:right;">
A
</th>
<th style="text-align:right;">
B
</th>
<th style="text-align:right;">
H
</th>
<th style="text-align:right;">
M
</th>
<th style="text-align:right;">
W
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
r1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
r2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
8
</td>
</tr>
</tbody>
</table>
<table class="table">
<caption>
data1b
</caption>
<thead><tr>
<th style="text-align:right;">
row
</th>
<th style="text-align:right;">
A
</th>
<th style="text-align:right;">
B
</th>
<th style="text-align:right;">
H
</th>
<th style="text-align:right;">
M
</th>
<th style="text-align:right;">
W
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
r1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
r2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
8
</td>
</tr>
</tbody>
</table>
<table class="table">
<caption>
data0a
</caption>
<thead><tr>
<th style="text-align:right;">
row
</th>
<th style="text-align:right;">
A
</th>
<th style="text-align:right;">
B
</th>
<th style="text-align:right;">
H
</th>
<th style="text-align:right;">
M
</th>
<th style="text-align:right;">
W
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
r1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:right;">
r2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
8
</td>
</tr>
</tbody>
</table>
<table class="table">
<caption>
data0b
</caption>
<thead><tr>
<th style="text-align:right;">
row
</th>
<th style="text-align:right;">
A
</th>
<th style="text-align:right;">
B
</th>
<th style="text-align:right;">
H
</th>
<th style="text-align:right;">
M
</th>
<th style="text-align:right;">
W
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
r1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:right;">
r2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
8
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="the-singleton-problem">The singleton problem<a class="anchor" aria-label="anchor" href="#the-singleton-problem"></a>
</h2>
<p>In the first run of the first dataset, we use
<code>protectZeros = FALSE</code>. This means that 0s are not
suppressed. All 0s are shown and none of them are secondary suppressed.
We use the (previously) usual method,
<code>"SIMPLEHEURISTIC_OLD"</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s1a</span> <span class="op">=</span> <span class="fu"><a href="../reference/ProtectTable.html">ProtectTable</a></span><span class="op">(</span><span class="va">data1a</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">6</span>, protectZeros <span class="op">=</span> <span class="cn">FALSE</span>,  method <span class="op">=</span> <span class="st">"SIMPLEHEURISTIC_OLD"</span>, suppression<span class="op">=</span><span class="st">"."</span><span class="op">)</span><span class="op">$</span><span class="va">suppressed</span></span></code></pre></div>
<table class="table">
<caption>
s1a
</caption>
<thead><tr>
<th style="text-align:right;">
row
</th>
<th style="text-align:right;">
A
</th>
<th style="text-align:right;">
B
</th>
<th style="text-align:right;">
H
</th>
<th style="text-align:right;">
M
</th>
<th style="text-align:right;">
W
</th>
<th style="text-align:right;">
Total
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
r1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:right;">
r2
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:right;">
Total
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
21
</td>
</tr>
</tbody>
</table>
<p>Here it is easy to reveal that both the suppressed numbers in the
first row must be 1 since the sum should be 9 and neither number can be
0. This is called the singleton problem. In the underlying function of
sdcTable there is a parameter, <code>detectSingletons</code> (default is
<code>FALSE</code>), which is intended to handle this problem. Such
parameters in sdcTable can also be used as input to ProtectTable.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s1aSingle</span> <span class="op">=</span> <span class="fu"><a href="../reference/ProtectTable.html">ProtectTable</a></span><span class="op">(</span><span class="va">data1a</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">6</span>, protectZeros <span class="op">=</span> <span class="cn">FALSE</span>,  method <span class="op">=</span> <span class="st">"SIMPLEHEURISTIC_OLD"</span>, detectSingletons<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>                         suppression<span class="op">=</span><span class="st">"."</span><span class="op">)</span><span class="op">$</span><span class="va">suppressed</span></span></code></pre></div>
<table class="table">
<caption>
s1aSingle
</caption>
<thead><tr>
<th style="text-align:right;">
row
</th>
<th style="text-align:right;">
A
</th>
<th style="text-align:right;">
B
</th>
<th style="text-align:right;">
H
</th>
<th style="text-align:right;">
M
</th>
<th style="text-align:right;">
W
</th>
<th style="text-align:right;">
Total
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
r1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:right;">
r2
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:right;">
Total
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
21
</td>
</tr>
</tbody>
</table>
<p>Now it is sufficiently suppressed so that the values can no longer be
revealed. In the next dataset it will be different.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s1bSingle</span> <span class="op">=</span> <span class="fu"><a href="../reference/ProtectTable.html">ProtectTable</a></span><span class="op">(</span><span class="va">data1b</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">6</span>, protectZeros <span class="op">=</span> <span class="cn">FALSE</span>,  method <span class="op">=</span> <span class="st">"SIMPLEHEURISTIC_OLD"</span>, detectSingletons<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>                         suppression<span class="op">=</span><span class="st">"."</span><span class="op">)</span><span class="op">$</span><span class="va">suppressed</span></span></code></pre></div>
<table class="table">
<caption>
s1bSingle
</caption>
<thead><tr>
<th style="text-align:right;">
row
</th>
<th style="text-align:right;">
A
</th>
<th style="text-align:right;">
B
</th>
<th style="text-align:right;">
H
</th>
<th style="text-align:right;">
M
</th>
<th style="text-align:right;">
W
</th>
<th style="text-align:right;">
Total
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
r1
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
10
</td>
</tr>
<tr>
<td style="text-align:right;">
r2
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
11
</td>
</tr>
<tr>
<td style="text-align:right;">
Total
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
21
</td>
</tr>
</tbody>
</table>
<p>We can reveal that the suppressed numbers in the first row must be 1.
This problem has led to changes in the latest version of sdcTable. A new
parameter, <code>threshold</code>, is introduced.</p>
</div>
<div class="section level2">
<h2 id="solving-the-singleton-problem-by-using-threshold">Solving the singleton problem by using <code>threshold</code><a class="anchor" aria-label="anchor" href="#solving-the-singleton-problem-by-using-threshold"></a>
</h2>
<p>The new parameter, <code>threshold</code>, is a number that can be
specified. The parameter means that the sum of the suppressed cells is
required to be at least threshold. This means that
<code>threshold = 3</code> will solve problems in a similar way to
<code>detectSingletons = TRUE</code>. In the case of data1b, then the
problem is not solved since the sum is already 3. But the problem can be
solved by setting <code>threshold = 4</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s1bThreshold4</span> <span class="op">=</span> <span class="fu"><a href="../reference/ProtectTable.html">ProtectTable</a></span><span class="op">(</span><span class="va">data1b</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">6</span>, protectZeros <span class="op">=</span> <span class="cn">FALSE</span>,  method <span class="op">=</span> <span class="st">"SIMPLEHEURISTIC_OLD"</span>, threshold<span class="op">=</span><span class="fl">4</span>,</span>
<span>                         suppression<span class="op">=</span><span class="st">"."</span><span class="op">)</span><span class="op">$</span><span class="va">suppressed</span></span></code></pre></div>
<table class="table">
<caption>
s1bThreshold4
</caption>
<thead><tr>
<th style="text-align:right;">
row
</th>
<th style="text-align:right;">
A
</th>
<th style="text-align:right;">
B
</th>
<th style="text-align:right;">
H
</th>
<th style="text-align:right;">
M
</th>
<th style="text-align:right;">
W
</th>
<th style="text-align:right;">
Total
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
r1
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
10
</td>
</tr>
<tr>
<td style="text-align:right;">
r2
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
11
</td>
</tr>
<tr>
<td style="text-align:right;">
Total
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
21
</td>
</tr>
</tbody>
</table>
<p>Now it has been suppressed sufficiently. But a problem is that one
cannot know, without examining the data, what threshold is needed. It is
not difficult to create example data where <code>threshold = 4</code> is
not enough. One could imagine a very large value of
<code>threshold</code>. The threshold parameter affects not only 1s but
also other suppressed numbers. Above, not only were the 7s in the first
row removed, but also the 8s in the second row. It might not be
required. It is possible to know that there must be 1 and 2 in the row,
but not complete disclosure.</p>
<p>In an imagined example where 4 is secondary suppressed to protect 2,
extra cells will be suppressed if <code>threshold = 7</code>. So, the
parameter threshold does not solve the singleton problem in an optimal
way. But as shown below, this looks better in the case where zeros are
suppressed.</p>
</div>
<div class="section level2">
<h2 id="the-problem-of-zeros">The problem of zeros<a class="anchor" aria-label="anchor" href="#the-problem-of-zeros"></a>
</h2>
<p>Now we consider data0a use <code>protectZeros = TRUE</code>. This
means that 0s are primary suppressed.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s0a</span> <span class="op">=</span> <span class="fu"><a href="../reference/ProtectTable.html">ProtectTable</a></span><span class="op">(</span><span class="va">data0a</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">6</span>, protectZeros <span class="op">=</span> <span class="cn">TRUE</span>,  method <span class="op">=</span> <span class="st">"SIMPLEHEURISTIC_OLD"</span>, suppression<span class="op">=</span><span class="st">"."</span><span class="op">)</span><span class="op">$</span><span class="va">suppressed</span></span></code></pre></div>
<table class="table">
<caption>
s0a
</caption>
<thead><tr>
<th style="text-align:right;">
row
</th>
<th style="text-align:right;">
A
</th>
<th style="text-align:right;">
B
</th>
<th style="text-align:right;">
H
</th>
<th style="text-align:right;">
M
</th>
<th style="text-align:right;">
W
</th>
<th style="text-align:right;">
Total
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
r1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
21
</td>
</tr>
<tr>
<td style="text-align:right;">
r2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
36
</td>
</tr>
<tr>
<td style="text-align:right;">
Total
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
57
</td>
</tr>
</tbody>
</table>
<p>Here it is easy to reveal that both the suppressed numbers in the
first row must be 0 since the sum of the numbers shown is already 21.
This problem is similar to the problem with 1s, but it is not called the
singleton problem. It doesn’t help using
<code>detectSingletons = TRUE</code>. The answer will be the same.</p>
<p>In the next data set (data0b) there are three 0’s and the problem is
the same.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s0b</span> <span class="op">=</span> <span class="fu"><a href="../reference/ProtectTable.html">ProtectTable</a></span><span class="op">(</span><span class="va">data0b</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">6</span>, protectZeros <span class="op">=</span> <span class="cn">TRUE</span>,  method <span class="op">=</span> <span class="st">"SIMPLEHEURISTIC_OLD"</span>, suppression<span class="op">=</span><span class="st">"."</span><span class="op">)</span><span class="op">$</span><span class="va">suppressed</span></span></code></pre></div>
<table class="table">
<caption>
s0b
</caption>
<thead><tr>
<th style="text-align:right;">
row
</th>
<th style="text-align:right;">
A
</th>
<th style="text-align:right;">
B
</th>
<th style="text-align:right;">
H
</th>
<th style="text-align:right;">
M
</th>
<th style="text-align:right;">
W
</th>
<th style="text-align:right;">
Total
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
r1
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:right;">
r2
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
28
</td>
</tr>
<tr>
<td style="text-align:right;">
Total
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
44
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="solving-the-problem-of-zeros-by-using-threshold1">Solving the problem of zeros by using <code>threshold=1</code><a class="anchor" aria-label="anchor" href="#solving-the-problem-of-zeros-by-using-threshold1"></a>
</h2>
<p>The threshold parameter solves the above problem (data0a). It is
sufficient to set <code>threshold = 1</code> to prevent only 0s being
suppressed.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s0aThreshold1</span> <span class="op">=</span> <span class="fu"><a href="../reference/ProtectTable.html">ProtectTable</a></span><span class="op">(</span><span class="va">data0a</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">6</span>, protectZeros <span class="op">=</span> <span class="cn">TRUE</span>,  method <span class="op">=</span> <span class="st">"SIMPLEHEURISTIC_OLD"</span>, threshold <span class="op">=</span> <span class="fl">1</span>, suppression<span class="op">=</span><span class="st">"."</span><span class="op">)</span><span class="op">$</span><span class="va">suppressed</span></span></code></pre></div>
<table class="table">
<caption>
s0aThreshold1
</caption>
<thead><tr>
<th style="text-align:right;">
row
</th>
<th style="text-align:right;">
A
</th>
<th style="text-align:right;">
B
</th>
<th style="text-align:right;">
H
</th>
<th style="text-align:right;">
M
</th>
<th style="text-align:right;">
W
</th>
<th style="text-align:right;">
Total
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
r1
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
21
</td>
</tr>
<tr>
<td style="text-align:right;">
r2
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
36
</td>
</tr>
<tr>
<td style="text-align:right;">
Total
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
57
</td>
</tr>
</tbody>
</table>
<p>When there are three (as below, data0b) or more zeros, the problem is
also solved. It is suppressed extra to avoid disclosure.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s0bThreshold1</span> <span class="op">=</span> <span class="fu"><a href="../reference/ProtectTable.html">ProtectTable</a></span><span class="op">(</span><span class="va">data0b</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">6</span>, protectZeros <span class="op">=</span> <span class="cn">TRUE</span>,  method <span class="op">=</span> <span class="st">"SIMPLEHEURISTIC_OLD"</span>, threshold <span class="op">=</span> <span class="fl">1</span>, suppression<span class="op">=</span><span class="st">"."</span><span class="op">)</span><span class="op">$</span><span class="va">suppressed</span></span></code></pre></div>
<table class="table">
<caption>
s0bThreshold1
</caption>
<thead><tr>
<th style="text-align:right;">
row
</th>
<th style="text-align:right;">
A
</th>
<th style="text-align:right;">
B
</th>
<th style="text-align:right;">
H
</th>
<th style="text-align:right;">
M
</th>
<th style="text-align:right;">
W
</th>
<th style="text-align:right;">
Total
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
r1
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:right;">
r2
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
28
</td>
</tr>
<tr>
<td style="text-align:right;">
Total
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
44
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="discussion-and-new-default">Discussion and new default<a class="anchor" aria-label="anchor" href="#discussion-and-new-default"></a>
</h2>
<p>The new parameter threshold is not an optimal solution to the
singleton problem (1s). Users must consider what value to use. What is
great is that the threshold parameter solves problems with 0’s, ie when
<code>protectZeros = TRUE</code>.</p>
<p>Note also that the threshold parameter can be used to increase the
degree of protection in general, even without 0s or 1s.</p>
<p>In easySdcTable, <code>protectZeros = TRUE</code> is the default. It
is not in sdcTable. The parameter is also renamed. The method
<code>"SIMPLEHEURISTIC"</code> which is default in sdcTable, has also
been default easySdcTable. This is now changed to
<code>"SimpleSingle"</code> whos new definition is:</p>
<ul>
<li>When <code>protectZeros=FALSE</code>: <code>"SIMPLEHEURISTIC"</code>
with <code>detectSingletons=TRUE</code>.</li>
<li>when <code>protectZeros=TRUE</code>: <code>"SIMPLEHEURISTIC"</code>
with <code>threshold=1</code> (can be overridden by input).</li>
</ul>
<p>The problem of zeros is solved. Otherwise, the data is protected the
old way using <code>detectSingletons</code>. In addition, it is possible
to manually set the parameter <code>threshold</code> to provide better
protection. If this is done, the parameter <code>detectSingletons</code>
will not be used.</p>
<p>Note that parameters <code>detectSingletons</code> and
<code>threshold</code> increase the computing time.</p>
</div>
<div class="section level2">
<h2 id="note-after-easysdctable-version-0-8-0">Note after easySdcTable version 0.8.0<a class="anchor" aria-label="anchor" href="#note-after-easysdctable-version-0-8-0"></a>
</h2>
<p>Method <code>"Gauss"</code> made default (See NEWS).</p>
<p>For all the examples to still be relevant,
<code>"SIMPLEHEURISTIC_OLD"</code> is used instead of
<code>"SIMPLEHEURISTIC"</code>. In the solution after
<code>threshold=1</code>, more cells than earlier (more than needed) are
suppressed.</p>
<p>Methodology to handle the problem of singletons and zeros are also
included in “Gauss” . Below is output:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s1aGauss</span> <span class="op">=</span> <span class="fu"><a href="../reference/ProtectTable.html">ProtectTable</a></span><span class="op">(</span><span class="va">data1a</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">6</span>, protectZeros <span class="op">=</span> <span class="cn">FALSE</span>, suppression<span class="op">=</span><span class="st">"."</span><span class="op">)</span><span class="op">$</span><span class="va">suppressed</span></span></code></pre></div>
<table class="table">
<caption>
s1aGauss
</caption>
<thead><tr>
<th style="text-align:right;">
row
</th>
<th style="text-align:right;">
A
</th>
<th style="text-align:right;">
B
</th>
<th style="text-align:right;">
H
</th>
<th style="text-align:right;">
M
</th>
<th style="text-align:right;">
W
</th>
<th style="text-align:right;">
Total
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
r1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:right;">
r2
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:right;">
Total
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
21
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s1bGauss</span> <span class="op">=</span> <span class="fu"><a href="../reference/ProtectTable.html">ProtectTable</a></span><span class="op">(</span><span class="va">data1b</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">6</span>, protectZeros <span class="op">=</span> <span class="cn">FALSE</span>, suppression<span class="op">=</span><span class="st">"."</span><span class="op">)</span><span class="op">$</span><span class="va">suppressed</span></span></code></pre></div>
<table class="table">
<caption>
s1bGauss
</caption>
<thead><tr>
<th style="text-align:right;">
row
</th>
<th style="text-align:right;">
A
</th>
<th style="text-align:right;">
B
</th>
<th style="text-align:right;">
H
</th>
<th style="text-align:right;">
M
</th>
<th style="text-align:right;">
W
</th>
<th style="text-align:right;">
Total
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
r1
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
10
</td>
</tr>
<tr>
<td style="text-align:right;">
r2
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
11
</td>
</tr>
<tr>
<td style="text-align:right;">
Total
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
21
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s0aGauss</span> <span class="op">=</span> <span class="fu"><a href="../reference/ProtectTable.html">ProtectTable</a></span><span class="op">(</span><span class="va">data0a</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">6</span>, protectZeros <span class="op">=</span> <span class="cn">TRUE</span>,  suppression<span class="op">=</span><span class="st">"."</span><span class="op">)</span><span class="op">$</span><span class="va">suppressed</span></span></code></pre></div>
<table class="table">
<caption>
s0aGauss
</caption>
<thead><tr>
<th style="text-align:right;">
row
</th>
<th style="text-align:right;">
A
</th>
<th style="text-align:right;">
B
</th>
<th style="text-align:right;">
H
</th>
<th style="text-align:right;">
M
</th>
<th style="text-align:right;">
W
</th>
<th style="text-align:right;">
Total
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
r1
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
21
</td>
</tr>
<tr>
<td style="text-align:right;">
r2
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
36
</td>
</tr>
<tr>
<td style="text-align:right;">
Total
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
57
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s0bGauss</span> <span class="op">=</span> <span class="fu"><a href="../reference/ProtectTable.html">ProtectTable</a></span><span class="op">(</span><span class="va">data0b</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">6</span>, protectZeros <span class="op">=</span> <span class="cn">TRUE</span>,  suppression<span class="op">=</span><span class="st">"."</span><span class="op">)</span><span class="op">$</span><span class="va">suppressed</span></span></code></pre></div>
<table class="table">
<caption>
s0bGauss
</caption>
<thead><tr>
<th style="text-align:right;">
row
</th>
<th style="text-align:right;">
A
</th>
<th style="text-align:right;">
B
</th>
<th style="text-align:right;">
H
</th>
<th style="text-align:right;">
M
</th>
<th style="text-align:right;">
W
</th>
<th style="text-align:right;">
Total
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
r1
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:right;">
r2
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
28
</td>
</tr>
<tr>
<td style="text-align:right;">
Total
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
.
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
44
</td>
</tr>
</tbody>
</table>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Øyvind Langsrud.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
